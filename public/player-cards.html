<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Cartelas do Jogador</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .card-grid { display: grid; grid-template-columns: repeat(5, 1fr); text-align: center; }
    .cell { border: 1px solid black; padding: 10px; }
  </style>
</head>
<body class="container">
  <h1>Cartelas de <span id="name"></span></h1>
  <p>PrÃªmio Atual: <span id="prize"></span></p>
  <p>IDs: <span id="cardIds"></span></p>
  <div id="cards"></div>
  
  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const id = urlParams.get('id');
    fetch(`/get-player-cards?id=${id}`)
      .then(res => res.json())
      .then(data => {
        document.getElementById('name').innerText = data.name;
        document.getElementById('prize').innerText = data.prize;
        document.getElementById('cardIds').innerText = data.cardIds.join(', ');
        
        const cardsDiv = document.getElementById('cards');
        data.cards.forEach((card, index) => {
          const cardDiv = document.createElement('div');
          cardDiv.innerHTML = `<h3>Cartela ${data.cardIds[index]}</h3><div class="card-grid"><div class="cell">B</div><div class="cell">I</div><div class="cell">N</div><div class="cell">G</div><div class="cell">O</div>`;
          for (let row = 0; row < 5; row++) {
            ['B','I','N','G','O'].forEach(lettr => {
              let num = card[lettr][row];
              if (num === 0) num = 'FREE';
              cardDiv.innerHTML += `<div class="cell">${num}</div>`;
            });
          }
          cardDiv.innerHTML += '</div>';
          cardsDiv.appendChild(cardDiv);
        });
      });
  </script>
</body>
</html>
