<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Painel de Administração</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <h1>Painel de Administração</h1>

  <h2>Gerar Cartela Online</h2>
  <form action="/generate-cartela" method="POST">
    <label>Nome do Jogador <input type="text" name="playerName"></label>
    <label>Número de Telefone (opcional) <input type="text" name="phoneNumber"></label>
    <label>Quantidade de Cartelas <input type="number" name="quantity" min="1" value="1"></label>
    <button type="submit">Gerar Cartela(s)</button>
  </form>

  <h2>Gerar Cartelas para Impressão</h2>
  <form action="/generate-print-cartelas" method="POST">
    <label>Quantidade de Cartelas <input type="number" name="quantity" min="1" value="500"></label>
    <button type="submit">Gerar Cartelas com QR Code (Imagens)</button>
  </form>

  <h2>Atualizar Prêmio Atual</h2>
  <form action="/update-prize" method="POST">
    <label>Prêmio Atual <input type="text" name="currentPrize" value="<%= game.currentPrize || '' %>"></label>
    <button type="submit">Atualizar Prêmio</button>
  </form>

  <h2>Atualizar Informações Adicionais</h2>
  <form action="/update-info" method="POST">
    <label>Informações Adicionais <input type="text" name="additionalInfo" value="<%= game.additionalInfo || '' %>"></label>
    <button type="submit">Atualizar Informações</button>
  </form>

  <h2>Atualizar Mensagem Inicial</h2>
  <form action="/update-message" method="POST">
    <label>Mensagem Inicial <input type="text" name="startMessage" value="<%= game.startMessage || '' %>"></label>
    <button type="submit">Atualizar Mensagem</button>
  </form>

  <h2>Números Sorteados</h2>
  <p>B (1-15): <%= game.drawnNumbers.filter(n => n >= 1 && n <= 15).join(', ') || '--' %></p>
  <p>I (16-30): <%= game.drawnNumbers.filter(n => n >= 16 && n <= 30).join(', ') || '--' %></p>
  <p>N (31-45): <%= game.drawnNumbers.filter(n => n >= 31 && n <= 45).join(', ') || '--' %></p>
  <p>G (46-60): <%= game.drawnNumbers.filter(n => n >= 46 && n <= 60).join(', ') || '--' %></p>
  <p>O (61-75): <%= game.drawnNumbers.filter(n => n >= 61 && n <= 75).join(', ') || '--' %></p>

  <form action="/draw-number" method="POST">
    <button type="submit">Sortear Número (Automático)</button>
  </form>
  <form action="/mark-number" method="POST">
    <label>Marcar Número Manual (1-75) <input type="number" name="number" min="1" max="75"></label>
    <label>Senha <input type="password" name="password"></label>
    <button type="submit">Marcar Número (Manual)</button>
  </form>

  <h2>Ações</h2>
  <form action="/reset" method="POST">
    <label>Senha <input type="password" name="password"></label>
    <button type="submit">Reiniciar o Bingo</button>
  </form>
  <!-- Adicione formulários para exclusão de cartelas, se necessário -->

  <h2>Jogadores e Links</h2>
  <table>
    <tr>
      <th>Nome</th>
      <th>Telefone</th>
      <th>Cartelas</th>
      <th>Link</th>
    </tr>
    <% players.forEach(player => { %>
      <tr>
        <td><%= player.playerName %></td>
        <td><%= player.phoneNumber %></td>
        <td><%= player.cartelaCount || 0 %></td>
        <td><a href="<%= player.link %>"><%= player.link %></a></td>
      </tr>
    <% }) %>
  </table>

  <h2>Vencedores</h2>
  <table>
    <tr>
      <th>Nome</th>
      <th>Cartela ID</th>
      <th>Data</th>
    </tr>
    <% winners.forEach(winner => { %>
      <tr>
        <td><%= winner.playerName %></td>
        <td><%= winner.cartelaId %></td>
        <td><%= winner.createdAt.toLocaleString() %></td>
      </tr>
    <% }) %>
  </table>
</body>
</html>
